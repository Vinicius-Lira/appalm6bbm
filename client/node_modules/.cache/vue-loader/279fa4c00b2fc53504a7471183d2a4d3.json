{"remainingRequest":"/home/vlira/Documentos/ProntuarioBM/views/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vlira/Documentos/ProntuarioBM/views/src/components/helper/ValoresReferencia.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vlira/Documentos/ProntuarioBM/views/src/components/helper/ValoresReferencia.vue","mtime":1569199707409},{"path":"/home/vlira/Documentos/ProntuarioBM/views/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/home/vlira/Documentos/ProntuarioBM/views/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vlira/Documentos/ProntuarioBM/views/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nexport default {\n    props: ['dialog', 'idParametro'],\n    data: () => ({\n        parametro: \"\",\n        dialogAddValorReferencia: false,\n        comparacoes: [\n            {\n                text: \"< (Menor que minimo)\",\n                value: \"<\"\n            },\n            {\n                text: \"> (Maior que maximo)\",\n                value: \">\"\n            },\n            {\n                text: \"<> (Entre o minimo e maximo)\",\n                value: \"<>\"\n            }\n        ],\n        sexos: [\n            \"FEMININO\",\n            \"MASCULINO\"\n        ],\n        headers: [\n            {\n                text: 'Parâmetro',\n                align: 'left',\n                sortable: true,\n                value: 'parametro',\n            },\n            { text: 'Unidade medida', value: 'unidadeMedida' },\n            { text: 'Ações', value: 'action', sortable: false },\n        ],\n        desserts: [],\n        search: \"\",\n        rowsPerPageItems: [8, 12, 15],\n        pagination: {\n            rowsPerPage: 20\n        },\n        editedIndex: -1,\n        editedItem: {\n            comparacao: \"\",\n            idade: \"\",\n            idadeMinima: \"\",\n            idadeMaxima: \"\",\n            valorMinimo: 0,\n            valorMaximo: 0,\n            sexo: \"\",\n            idParametro: null,\n            createdAt: \"\",\n            updatedAt: \"\"\n        },\n        defaultItem: {\n            comparacao: \"\",\n            idade: \"\",\n            idadeMinima: \"\",\n            idadeMaxima: \"\",\n            valorMinimo: 0,\n            valorMaximo: 0,\n            sexo: \"\",\n            idParametro: null,\n            createdAt: \"\",\n            updatedAt: \"\"\n        },\n        textoSnackbar: \"\",\n        color: 'success',\n        snackbar: false\n    }),\n    created () {\n        this.initialize()\n    },\n    computed: {\n        formTitle () {\n            return this.editedIndex === -1 ? 'Novo Parâmetro' : 'Editar Parâmetro'\n        }\n    },\n    watch: {\n        dialog() {\n            this.axios.get('http://localhost:3000/referenciaParametroExame/getByIdParametro/' + this.idParametro).then(response => {\n                this.parametro = response.data;\n            });\n\n            this.atualizaValoresReferencia();\n        },\n        dialogAddValorReferencia (val) {\n            val || this.close()\n        },\n    },\n    methods: {\n        initialize () {\n            this.dialog = false;\n        },\n\n        closeSnackbar () {\n            this.snackbar = false;\n        },\n        atualizaValoresReferencia() {\n            this.axios.get('http://localhost:3000/valoresReferenciaParametroExame/getByIdParametro/' + this.idExame ).then(response => {\n                this.desserts = response.data;\n            });\n        },\n        editItem (item) {\n            this.editedIndex = this.desserts.indexOf(item);\n            this.editedItem = Object.assign({}, item);\n            this.dialogAddValorReferencia = true;\n        },\n        deleteItem (item) {\n            this.axios.delete('http://localhost:3000/valoresReferenciaParametroExame/' + item.id + \"/delete\").then(response => {\n                if(response.data){\n                    this.snackbar = true;\n                    this.color = 'success';\n                    this.textoSnackbar = \"Parâmetro apagado com sucesso!\";\n                    this.atualizaValoresReferencia()\n                }else {\n                    this.snackbar = true;\n                    this.color = 'error';\n                    this.textoSnackbar = \"Ocorreu um erro ao tentar apagar o registro!\";\n                }\n            });\n        },\n        close () {\n            this.dialogAddValorReferencia = false;\n            setTimeout(() => {\n                this.editedItem = Object.assign({}, this.defaultItem);\n                this.editedIndex = -1;\n            }, 300);\n        },\n        validaCampos() {\n            return  this.editedItem.escala != '';\n        },\n        save () {\n            if (this.editedIndex > -1) {\n                this.editedItem.idParametro = this.idParametro;\n                this.axios.put('http://localhost:3000/valoresReferenciaParametroExame', this.editedItem).then(response => {\n                    if(response.data){\n                        this.textoSnackbar = \"Registro atualizado com sucesso!\";\n                        this.snackbar = true;\n                        this.color = 'success';\n                        this.atualizaValoresReferencia();\n                        this.dialogAddParametro = false;\n                    }else {\n                        this.snackbar = true;\n                        this.color = 'error';\n                        this.textoSnackbar = \"Ocorreu um erro ao atualizar!\";\n                        this.dialogAddParametro = false;\n                    }\n                });\n            } else {\n                if(this.validaCampos()){\n                    this.editedItem.idExame = this.idExame;\n                    this.axios.post('http://localhost:3000/valoresReferenciaParametroExame', this.editedItem).then(response => {\n                        if(response.data.id){\n                            this.textoSnackbar = \"Escala inserida com sucesso!\";\n                            this.snackbar = true;\n                            this.color = 'success';\n                            this.atualizaValoresReferencia();\n                            this.dialogAddParametro = false;\n                        }else {\n                            this.snackbar = true;\n                            this.color = 'error';\n                            this.textoSnackbar = \"Ocorreu um erro ao cadastrar!\";\n                            this.dialogAddParametro = false;\n                        }\n                    });\n                }else {\n                    this.snackbar = true;\n                    this.color = 'error';\n                    this.textoSnackbar = \"Existe campos vazios ou incorretos!\";\n                    this.dialogAddParametro = false;\n                }\n            }\n        },\n    }\n}\n\n",{"version":3,"sources":["ValoresReferencia.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ValoresReferencia.vue","sourceRoot":"src/components/helper","sourcesContent":["<template>\n    <v-row justify=\"center\">\n        <v-dialog v-model=\"dialog\" fullscreen hide-overlay transition=\"dialog-bottom-transition\">\n\n            <v-card>\n                <v-toolbar dark color=\"error\">\n                    <v-btn icon dark @click=\"$emit('setFalseDialog')\">\n                        <v-icon>mdi-close</v-icon>\n                    </v-btn>\n                    <v-toolbar-title>{{ exame.exame }}</v-toolbar-title>\n                        <div class=\"flex-grow-1\"></div>\n                        <v-toolbar-items>\n                        <v-btn dark text @click=\"$emit('setFalseDialog')\">Salvar</v-btn>\n                    </v-toolbar-items>\n                </v-toolbar>\n\n                <v-data-table\n                    :headers=\"headers\"\n                    :items=\"desserts\"\n                    :search=\"search\"\n                    class=\"elevation-1 ma-2\"\n                    :footer-props=\"{\n                        'items-per-page-options': [8,10,12,14]\n                    }\"\n                >\n\n                    <template v-slot:top>\n                        <v-toolbar flat color=\"white\">\n\n                            <v-container>\n                                <v-row>\n                                    <v-col cols=\"12\" sm=\"12\" md=\"5\">\n                                        <v-text-field\n                                            v-model=\"search\"\n                                            append-icon=\"mdi-magnify\"\n                                            label=\"Buscar\"\n                                            single-line\n                                            hide-details\n                                            outlined\n                                        ></v-text-field>\n                                    </v-col>\n                                </v-row>\n                            </v-container>\n\n                            <snackbar\n                                :textoSnackbar=\"textoSnackbar\"\n                                :color=\"color\"\n                                :snackbar=\"snackbar\"\n                                v-on:closeSnackbar=\"closeSnackbar\"\n                            ></snackbar>\n\n                            <div class=\"flex-grow-1\"></div>\n\n                            <v-dialog v-model=\"dialogAddValorReferencia\" max-width=\"1000px\">\n\n                                <template v-slot:activator=\"{ on }\">\n                                    <v-btn color=\"primary\" class=\"mb-2\" @click=\"dialogAddValorReferencia = true\" >Adicionar</v-btn>\n                                </template>\n\n                                <v-card>\n                                    <v-card-title>\n                                        <span class=\"headline\">{{ formTitle }}</span>\n                                    </v-card-title>\n\n                                    <v-card-text>\n                                        <v-container>\n                                            <v-row>\n                                                <v-col cols=\"12\" sm=\"12\" md=\"4\">\n                                                    <v-text-field\n                                                        v-model=\"editedItem.valorMinimo\"\n                                                        :rules=\"[v => !!v || 'Obrigatório prencher o valor mínimo!']\"\n                                                        label=\"Valor mínimo\"\n                                                        outlined\n                                                    ></v-text-field>\n                                                </v-col>\n                                                <v-col cols=\"12\" sm=\"12\" md=\"4\">\n                                                    <v-select\n                                                        :items=\"comparacoes\"\n                                                        v-model=\"editedItem.comparacao\"\n                                                        :rules=\"[v => !!v || 'Obrigatório prencher a comparação!']\"\n                                                        label=\"Comparação\"\n                                                        outlined\n                                                    ></v-select>\n                                                </v-col>\n\n                                                <v-col cols=\"12\" sm=\"12\" md=\"4\">\n                                                    <v-text-field\n                                                        v-model=\"editedItem.valorMaximo\"\n                                                        :rules=\"[v => !!v || 'Obrigatório prencher o valor maximo!']\"\n                                                        label=\"Valor maximo\"\n                                                        outlined\n                                                    ></v-text-field>\n                                                </v-col>\n\n                                            </v-row>\n\n                                            <v-row>\n                                                <v-col cols=\"12\" sm=\"12\" md=\"4\">\n                                                    <v-text-field\n                                                        v-model=\"editedItem.idadeMinimo\"\n                                                        :rules=\"[v => !!v || 'Obrigatório prencher a idade mínimo!']\"\n                                                        label=\"Idade mínima\"\n                                                        outlined\n                                                    ></v-text-field>\n                                                </v-col>\n                                                <v-col cols=\"12\" sm=\"12\" md=\"4\">\n                                                    <v-select\n                                                        :items=\"comparacoes\"\n                                                        v-model=\"editedItem.idade\"\n                                                        :rules=\"[v => !!v || 'Obrigatório prencher a comparação idade!']\"\n                                                        label=\"Comparação\"\n                                                        outlined\n                                                    ></v-select>\n                                                </v-col>\n\n                                                <v-col cols=\"12\" sm=\"12\" md=\"4\">\n                                                    <v-text-field\n                                                        v-model=\"editedItem.idadeMaximo\"\n                                                        :rules=\"[v => !!v || 'Obrigatório prencher a idade maxima!']\"\n                                                        label=\"Idade maxima\"\n                                                        outlined\n                                                    ></v-text-field>\n                                                </v-col>\n                                            </v-row>\n\n                                            <v-row>\n                                                <v-col cols=\"12\" sm=\"12\" md=\"4\">\n                                                    <v-select\n                                                        :items=\"sexos\"\n                                                        v-model=\"editedItem.sexo\"\n                                                        :rules=\"[v => !!v || 'Obrigatório selecionar o sexo!']\"\n                                                        label=\"Sexo\"\n                                                        outlined\n                                                    ></v-select>\n                                                </v-col>\n                                            </v-row>\n\n                                        </v-container>\n                                    </v-card-text>\n\n                                    <v-card-actions>\n                                        <div class=\"flex-grow-1\"></div>\n                                        <v-btn color=\"blue darken-1\" text @click=\"close\">Cancelar</v-btn>\n                                        <v-btn color=\"blue darken-1\" text @click=\"save\">Salvar</v-btn>\n                                    </v-card-actions>\n                                </v-card>\n                            </v-dialog>\n                        </v-toolbar>\n                    </template>\n\n                    <template v-slot:item.action=\"{ item }\">\n                        <v-icon\n                            small\n                            class=\"mr-2\"\n                            @click=\"editItem(item)\"\n                        >\n                            mdi-pencil\n                        </v-icon>\n                        <v-icon\n                            small\n                            @click=\"deleteItem(item)\"\n                        >\n                            mdi-delete\n                        </v-icon>\n                    </template>\n\n                    <template v-slot:no-data>\n                        <v-btn color=\"primary\" @click=\"initialize\">Reset</v-btn>\n                    </template>\n\n                </v-data-table>\n\n            </v-card>\n        </v-dialog>\n    </v-row>\n</template>\n\n<script>\n\n    export default {\n        props: ['dialog', 'idParametro'],\n        data: () => ({\n            parametro: \"\",\n            dialogAddValorReferencia: false,\n            comparacoes: [\n                {\n                    text: \"< (Menor que minimo)\",\n                    value: \"<\"\n                },\n                {\n                    text: \"> (Maior que maximo)\",\n                    value: \">\"\n                },\n                {\n                    text: \"<> (Entre o minimo e maximo)\",\n                    value: \"<>\"\n                }\n            ],\n            sexos: [\n                \"FEMININO\",\n                \"MASCULINO\"\n            ],\n            headers: [\n                {\n                    text: 'Parâmetro',\n                    align: 'left',\n                    sortable: true,\n                    value: 'parametro',\n                },\n                { text: 'Unidade medida', value: 'unidadeMedida' },\n                { text: 'Ações', value: 'action', sortable: false },\n            ],\n            desserts: [],\n            search: \"\",\n            rowsPerPageItems: [8, 12, 15],\n            pagination: {\n                rowsPerPage: 20\n            },\n            editedIndex: -1,\n            editedItem: {\n                comparacao: \"\",\n                idade: \"\",\n                idadeMinima: \"\",\n                idadeMaxima: \"\",\n                valorMinimo: 0,\n                valorMaximo: 0,\n                sexo: \"\",\n                idParametro: null,\n                createdAt: \"\",\n                updatedAt: \"\"\n            },\n            defaultItem: {\n                comparacao: \"\",\n                idade: \"\",\n                idadeMinima: \"\",\n                idadeMaxima: \"\",\n                valorMinimo: 0,\n                valorMaximo: 0,\n                sexo: \"\",\n                idParametro: null,\n                createdAt: \"\",\n                updatedAt: \"\"\n            },\n            textoSnackbar: \"\",\n            color: 'success',\n            snackbar: false\n        }),\n        created () {\n            this.initialize()\n        },\n        computed: {\n            formTitle () {\n                return this.editedIndex === -1 ? 'Novo Parâmetro' : 'Editar Parâmetro'\n            }\n        },\n        watch: {\n            dialog() {\n                this.axios.get('http://localhost:3000/referenciaParametroExame/getByIdParametro/' + this.idParametro).then(response => {\n                    this.parametro = response.data;\n                });\n\n                this.atualizaValoresReferencia();\n            },\n            dialogAddValorReferencia (val) {\n                val || this.close()\n            },\n        },\n        methods: {\n            initialize () {\n                this.dialog = false;\n            },\n\n            closeSnackbar () {\n                this.snackbar = false;\n            },\n            atualizaValoresReferencia() {\n                this.axios.get('http://localhost:3000/valoresReferenciaParametroExame/getByIdParametro/' + this.idExame ).then(response => {\n                    this.desserts = response.data;\n                });\n            },\n            editItem (item) {\n                this.editedIndex = this.desserts.indexOf(item);\n                this.editedItem = Object.assign({}, item);\n                this.dialogAddValorReferencia = true;\n            },\n            deleteItem (item) {\n                this.axios.delete('http://localhost:3000/valoresReferenciaParametroExame/' + item.id + \"/delete\").then(response => {\n                    if(response.data){\n                        this.snackbar = true;\n                        this.color = 'success';\n                        this.textoSnackbar = \"Parâmetro apagado com sucesso!\";\n                        this.atualizaValoresReferencia()\n                    }else {\n                        this.snackbar = true;\n                        this.color = 'error';\n                        this.textoSnackbar = \"Ocorreu um erro ao tentar apagar o registro!\";\n                    }\n                });\n            },\n            close () {\n                this.dialogAddValorReferencia = false;\n                setTimeout(() => {\n                    this.editedItem = Object.assign({}, this.defaultItem);\n                    this.editedIndex = -1;\n                }, 300);\n            },\n            validaCampos() {\n                return  this.editedItem.escala != '';\n            },\n            save () {\n                if (this.editedIndex > -1) {\n                    this.editedItem.idParametro = this.idParametro;\n                    this.axios.put('http://localhost:3000/valoresReferenciaParametroExame', this.editedItem).then(response => {\n                        if(response.data){\n                            this.textoSnackbar = \"Registro atualizado com sucesso!\";\n                            this.snackbar = true;\n                            this.color = 'success';\n                            this.atualizaValoresReferencia();\n                            this.dialogAddParametro = false;\n                        }else {\n                            this.snackbar = true;\n                            this.color = 'error';\n                            this.textoSnackbar = \"Ocorreu um erro ao atualizar!\";\n                            this.dialogAddParametro = false;\n                        }\n                    });\n                } else {\n                    if(this.validaCampos()){\n                        this.editedItem.idExame = this.idExame;\n                        this.axios.post('http://localhost:3000/valoresReferenciaParametroExame', this.editedItem).then(response => {\n                            if(response.data.id){\n                                this.textoSnackbar = \"Escala inserida com sucesso!\";\n                                this.snackbar = true;\n                                this.color = 'success';\n                                this.atualizaValoresReferencia();\n                                this.dialogAddParametro = false;\n                            }else {\n                                this.snackbar = true;\n                                this.color = 'error';\n                                this.textoSnackbar = \"Ocorreu um erro ao cadastrar!\";\n                                this.dialogAddParametro = false;\n                            }\n                        });\n                    }else {\n                        this.snackbar = true;\n                        this.color = 'error';\n                        this.textoSnackbar = \"Existe campos vazios ou incorretos!\";\n                        this.dialogAddParametro = false;\n                    }\n                }\n            },\n        }\n    }\n\n</script>\n"]}]}